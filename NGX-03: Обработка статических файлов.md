Задание:

Внимание: В задании, в содержимом создаваемых файлов не указаны переносы строк, или какие либо дополнительные символы. Следовательно при создании файлов будьте внимательны и обращайте внимание на размер файлов. У корректных файлов по заданию объём текста должен быть 5 байт.

    Установите nginx из системных (стандартных) репозиториев ubuntu.
    Создайте директорию /opt/www/files.{base_domain} и внутри создайте два файла - test1.html и test2.html, внутри которых должна находиться строка test1 и test2, соответственно.
    Создайте файл /tmp/test3.html со следующим содержимым: test3.
    Создайте virtual host для host files.{base_domain} и пропишите настройки, которые будут реализовывать следующую логику:
        Все запросы на / должны отдавать файлы из директории /opt/www/files.{base_domain}.
        Если файл не найден - то должен отдаваться код ответа 204.
        При запросе /heya.html должен отдаваться файл /tmp/test3.html.
    Проверьте, что все location возвращают необходимые значения и отправляйте задание на проверку.


Удалил default только чтобы заработало

cat files.f4f6f60c6f0d9bde76516015ef51991a.kis.im.conf
server {
  listen 80;
  root /opt/www/files.f4f6f60c6f0d9bde76516015ef51991a;

  location / {
    try_files $uri @not_found;
  }

  location @not_found {
    return 204;
  }

  location = /heya.html {
    alias /tmp/test3.html;
  }
}


Можно
  location / {
    try_files $uri =204;
  }



  curl -D - -s files.f4f6f60c6f0d9bde76516015ef51991a.kis.im/test1.html